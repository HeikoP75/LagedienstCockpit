<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lagedienst Cockpit</title>
<link rel="manifest" href="manifest.json">

<!-- Standard Favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="assets/icons/icon-16.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32.png">

<!-- Apple Touch Icon -->
<link rel="apple-touch-icon" href="assets/icons/apple-touch-icon-180.png">

<!-- Progressive Web App Einstellungen -->
<meta name="theme-color" content="#00C8C8">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Lagedienst">



<!-- Grunddesign -->
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: "Segoe UI", sans-serif;
        background: #eceff1;
        color: #263238;
    }

    header {
        background: #37474f;
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 26px;
        font-weight: 600;
        letter-spacing: 1px;
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
    }

    /* Container f√ºr alle Kacheln */
    .tile-container {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 25px;
        max-width: 960px;
        margin: 40px auto;
    }

    /* Kachel-Design */
    .tile {
        width: 240px;
        height: 160px;
        background: white;
        border-radius: 22px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        color: #263238;
        font-size: 20px;
        font-weight: 600;
        transition: all 0.2s ease;
    }

    .tile:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 18px rgba(0,0,0,0.25);
    }

    .tile .icon {
  font-size: 34px;
  color: #455a64;
}


    footer {
        margin-top: 60px;
        padding: 20px;
        background: #37474f;
        color: #cfd8dc;
        text-align: center;
        font-size: 14px;
    }
/* ===== Dashboard Erg√§nzung ===== */

.dashboard {
  background: #f8fafc;
  padding: 24px;
  border-bottom: 1px solid #dbe2ea;
}

.dashboard h1 {
  margin: 0 0 20px 0;
  font-size: 20px;
  font-weight: 600;
}

.dashboard-grid {
  display: grid;
  grid-template-columns: 2fr 1.5fr;
  gap: 16px;
}

.tile-primary {
  grid-row: span 2;
}

.tile-small {
  font-size: 0.95em;
}

.subtitle {
  color: #6b7280;
  font-size: 13px;
  margin: 6px 0 10px 0;
}

.status {
  margin: 12px 0;
  font-weight: 500;
}

.status span {
  font-weight: 400;
  color: #6b7280;
}

.btn {
  display: inline-block;
  margin-top: 10px;
  padding: 8px 14px;
  background: #2563eb;
  color: #ffffff;
  text-decoration: none;
  border-radius: 6px;
  font-size: 14px;
}

.btn.secondary {
  background: #4b5563;
}

/* ===== Logo-Trenner ===== */

.logo-divider {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 18px 0;
  background: #eef1f4;
  border-bottom: 2px solid #cfd8e3;
}

.logo-divider img {
  max-height: 48px;
  opacity: 0.85;
}
/* ================================================= */
/* DASHBOARD (kollisionsfrei)                        */
/* ================================================= */

.dash {
  background: #f8fafc;
  padding: 24px;
  border-bottom: 1px solid #dbe2ea;
}

.dash h1 {
  margin: 0 0 20px 0;
  font-size: 20px;
  font-weight: 600;
}

.dash-grid {
  display: grid;
  grid-template-columns: 2fr 1.5fr;
  gap: 16px;
}

.dash-tile {
  background: #ffffff;
  border-radius: 10px;
  padding: 16px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

/*.dash-tile-primary {
  grid-row: span 2;
}*/

.dash-tile {
  min-height: 160px;
}

.dash-tile-small {
  font-size: 0.95em;
}

.dash-subtitle {
  color: #6b7280;
  font-size: 13px;
  margin: 6px 0 10px 0;
}

.dash-status {
  margin: 12px 0;
  font-weight: 500;
}

.dash-status span {
  font-weight: 400;
  color: #6b7280;
}

.dash-btn {
  display: inline-block;
  margin-top: 10px;
  padding: 8px 14px;
  background: #2563eb;
  color: #ffffff;
  text-decoration: none;
  border-radius: 6px;
  font-size: 14px;
}

.dash-btn.secondary {
  background: #4b5563;
}

/* ===== Logo-Trenner ===== */

.logo-divider {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 18px 0;
  background: #eef1f4;
  border-bottom: 2px solid #cfd8e3;
}

.logo-divider img {
  max-height: 48px;
  opacity: 0.85;
}
/* ================================================= */
/* EINHEITLICHES LAYOUT ‚Äì STARTSEITE                 */
/* ================================================= */

section {
  margin: 32px auto;
  max-width: 1200px;
  padding: 0 20px;
}

h2 {
  font-size: 22px;
  font-weight: 600;
  margin-bottom: 16px;
  color: #263238;
}

/* Einsatzbereich Header */
.einsatz-header {
  border-top: 1px solid #dbe2ea;
  padding-top: 24px;
  margin-top: 40px;
}

/* Kacheln vereinheitlichen */
.tile-container {
  gap: 20px;
}

.tile {
  border-radius: 12px;
  background: #ffffff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.tile:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.16);
}

.tile .icon {
  font-size: 40px;
}
/* ================================================= */
/* ICONS ‚Äì Tagesgesch√§ft                             */
/* ================================================= */

.dash h2 {
  display: flex;
  align-items: center;
  gap: 10px;
}

.dash h2::before {
  font-size: 18px;
  color: #37474f;
}

/* einzelne Icons */
.icon-uebergabe::before {
  content: "‚Üî";
}

.icon-lagebild::before {
  content: "‚â°";
}

.icon-kalender::before {
  content: "‚ñ¶";
}

.icon-bibliothek::before {
  content: "‚åò";
}

.icon-admin::before {
  content: "‚öô";
}

/* ================================================= */
/* TYPOGRAFIE ‚Äì FEINSCHLIFF                          */
/* ================================================= */

body {
  line-height: 1.45;
}

.dash p,
.dash .dash-status {
  font-size: 14px;
  color: #455a64;
}

.dash h2 {
  font-size: 18px;
  font-weight: 600;
}
/* ================================================= */
/* HEADER ‚Äì ZENTRIERT + DATUM                        */
/* ================================================= */

.main-header {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  background: #37474f;
  color: white;
  padding: 14px 24px;
}

.header-left {
  font-size: 14px;
  color: #cfd8dc;
}

.header-title {
  text-align: center;
  font-size: 26px;
  font-weight: 600;
  letter-spacing: 0.5px;
}

.admin-link {
  justify-self: end;
  color: #cfd8dc;
  font-size: 22px;
  text-decoration: none;
  padding: 6px 8px;
  border-radius: 6px;
  transition: background 0.2s ease, color 0.2s ease;
}

.admin-link:hover {
  background: rgba(255,255,255,0.15);
  color: #ffffff;
}
/* ================================================= */
/* STATUS-BADGES                                    */
/* ================================================= */

.status {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
  margin-top: 6px;
}

.status-open {
  background: #fff8e1;
  color: #8a6d1d;
}

.status-done {
  background: #e6f4ea;
  color: #1e7e34;
}

.status-info {
  background: #e7f1ff;
  color: #1c5db6;
}

/* ================================================= */
/* DASH CONTENT                                     */
/* ================================================= */

.dash-content {
  font-size: 14px;
  color: #37474f;
  margin-bottom: 8px;
}

.dash-content div {
  margin-bottom: 4px;
}

</style>

</head>

<body>

<header class="main-header">
  <div class="header-left" id="header-date"></div>
  <div class="header-title">Lagedienst Cockpit</div>
  <a href="admin.html" class="admin-link" title="Administration">‚öô</a>
</header>



<!-- ================================================= -->
<!-- OBERER BEREICH: DASHBOARD                        -->
<!-- ================================================= -->

<section class="dash">

  <h1>Tagesgesch√§ft & F√ºhrung</h1>

  <div class="dash-grid">

<!-- √úbergabe -->
<div class="dash-tile">
  <h2 class="icon-uebergabe">√úbergabe</h2>
  <div class="dash-subtitle">t√§gliche √úbergabe</div>

  <!-- Status (wird per JS gesetzt) -->
  <div class="dash-status" id="status-uebergabe"></div>

  <!-- Status wechseln (nur UI, lokal) -->
  <button type="button"
          class="dash-btn secondary"
          id="btn-uebergabe-toggle">
    Status wechseln
  </button>

  <a href="uebergabe.html" class="dash-btn">√úbergabe bearbeiten</a>
</div>


    <!-- T√§gliches Lagebild -->
    <div class="dash-tile">
      <h2 class="icon-lagebild">T√§gliches Lagebild</h2>
	  <div class="dash-subtitle">F√ºhrungsbezogene Lageeinsch√§tzung des Tages</div>
      <div class="dash-status">
  <span class="status status-open">Heute nicht erstellt</span>

</div>

      <a href="lagebild.html" class="dash-btn">Lagebild erstellen</a>
    </div>

    <!-- Kalender -->
<div class="dash-tile dash-tile-small">
  <h2 class="icon-kalender">Kalender & Hinweise</h2>
  <div class="dash-subtitle">Wartungen & Hinweise</div>

  <!-- Inhaltliche Hinweise -->
  <div class="dash-content">
    <div>üõ† Wartung BMA Halle 4</div>
    <div>üéÇ Geburtstag M√ºller</div>
  </div>

  <!-- Status -->
  <div class="dash-status">
    <span class="status status-info">2 Hinweise heute</span>
  </div>

  <a href="kalender.html" class="dash-btn secondary">Kalender √∂ffnen</a>
</div>


<!-- Bibliothek -->
<div class="dash-tile dash-tile-small">
  <h2 class="icon-bibliothek">Bibliothek</h2>

  <div class="dash-subtitle">
    Zentrale Wissensbasis f√ºr Standards, Lessons Learned und Hintergrundinformationen
  </div>

  <!-- Status: neue Inhalte -->
  <div class="dash-status" id="status-bibliothek"></div>

  <!-- Abzeichnen (nur sichtbar, wenn neu) -->
  <button type="button"
          class="dash-btn secondary"
          id="btn-bibliothek-ack">
    Neuigkeiten abzeichnen
  </button>

  <a href="bibliothek.html" class="dash-btn secondary">Zur Bibliothek</a>
</div>

</section>

<!-- ================================================= -->
<!-- LOGO-TRENNER                                     -->
<!-- ================================================= -->

<div class="logo-divider">
  <img src="assets/logo-chempark.png" alt="Lagedienst / Chempark">
</div>

<section class="einsatz-header">
  <h2>Checklisten Einsatzbearbeitung</h2>
</section>

<!-- Kacheln -->
<div class="tile-container">

    <a href="feuer.html" class="tile">
        <div class="icon">üî•</div>
        FEUER
    </a>

    <a href="gefahrgut.html" class="tile">
        <div class="icon">‚öóÔ∏è</div>
        GEFAHRGUT
    </a>

    <a href="hilfeleistung.html" class="tile">
        <div class="icon">üõ†Ô∏è</div>
        HILFELEISTUNG
    </a>

    <a href="rettung.html" class="tile">
        <div class="icon">üöë</div>
        RETTUNG
    </a>

    <a href="tuis.html" class="tile">
        <div class="icon">üöõ</div>
        TUIS
    </a>

    <a href="stoerung.html" class="tile">
        <div class="icon">‚ö°</div>
        ST√ñRUNG
    </a>

    <a href="sonstiges.html" class="tile">
        <div class="icon">üì¶</div>
        SONSTIGES
    </a>


</div>

<footer>
    Entwickelt von Heiko Pitta ¬∑ Version 1.0 ¬∑ ¬© 2025
</footer>

<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", function () {
      navigator.serviceWorker
        .register("./service-worker.js")
        .catch(function (err) {
          console.error("Service Worker Registrierung fehlgeschlagen:", err);
        });
    });
  }
</script>

<script>
  const dateEl = document.getElementById("header-date");
  const options = { weekday: 'long', day: '2-digit', month: '2-digit', year: 'numeric' };
  const today = new Date().toLocaleDateString('de-DE', options);
  dateEl.textContent = today;
</script>

<script>
/* ================================
   STEP 7 ‚Äì Lokale Status-Logik
================================== */
(function () {

  function setHTML(id, html) {
    const el = document.getElementById(id);
    if (el) el.innerHTML = html;
  }

  /* -------- √úbergabe -------- */
  const KEY_UEB = "ldc_uebergabe_status"; // open | done

  function renderUebergabe() {
    const s = localStorage.getItem(KEY_UEB) || "open";
    if (s === "done") {
      setHTML("status-uebergabe",
        '<span class="status status-done">√úbergabe abgeschlossen</span>');
    } else {
      setHTML("status-uebergabe",
        '<span class="status status-open">√úbergabe offen</span>');
    }
  }

  const btnU = document.getElementById("btn-uebergabe-toggle");
  if (btnU) {
    btnU.addEventListener("click", () => {
      const cur = localStorage.getItem(KEY_UEB) || "open";
      localStorage.setItem(KEY_UEB, cur === "done" ? "open" : "done");
      renderUebergabe();
    });
  }

  /* -------- Bibliothek -------- */
  const KEY_BIB_NEWS = "ldc_bibliothek_news";
  const KEY_BIB_ACK  = "ldc_bibliothek_ack";

  if (localStorage.getItem(KEY_BIB_NEWS) === null)
    localStorage.setItem(KEY_BIB_NEWS, "0");

  if (localStorage.getItem(KEY_BIB_ACK) === null)
    localStorage.setItem(KEY_BIB_ACK, "yes");

  function renderBibliothek() {
    const n = parseInt(localStorage.getItem(KEY_BIB_NEWS), 10);
    const ack = localStorage.getItem(KEY_BIB_ACK);

    const btn = document.getElementById("btn-bibliothek-ack");

    if (n > 0 && ack !== "yes") {
      setHTML("status-bibliothek",
        `<span class="status status-open">Neu: ${n} Eintrag(e)</span>`);
      if (btn) btn.style.display = "inline-block";
    } else {
      setHTML("status-bibliothek",
        `<span class="status status-info">Keine neuen Eintr√§ge</span>`);
      if (btn) btn.style.display = "none";
    }
  }

  const btnB = document.getElementById("btn-bibliothek-ack");
  if (btnB) {
    btnB.addEventListener("click", () => {
      localStorage.setItem(KEY_BIB_ACK, "yes");
      renderBibliothek();
    });
  }

  /* -------- Initial -------- */
  renderUebergabe();
  renderBibliothek();

})();
</script>

</body>
</html>
